# üì§ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Uploads - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –ø–∞–ø–∫—É `wp-content/uploads` –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –æ—à–∏–±–∫–∏:

### –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
1. **–û–≥—Ä–æ–º–Ω—ã–π —Ä–∞–∑–º–µ—Ä**: 3.2 GB (9419 —Ñ–∞–π–ª–æ–≤)
2. **–û—á–µ–Ω—å –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã**: 15 —Ñ–∞–π–ª–æ–≤ —Ä–∞–∑–º–µ—Ä–æ–º >50MB (—Å–∞–º—ã–µ –±–æ–ª—å—à–∏–µ ~97MB PNG)
3. **–†—É—Å—Å–∫–∏–µ –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤**: "–º–µ—Ä—á36.png" –∏ —Ç.–¥. - –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π
4. **–°–∏—Å—Ç–µ–º–Ω—ã–π –º—É—Å–æ—Ä**: `.DS_Store`, `._*`, `__MACOSX` (—Ç–µ–ø–µ—Ä—å —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è)
5. **Timeout –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ**: SCP –Ω–µ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å –±–æ–ª—å—à–∏–º–∏ –æ–±—ä—ë–º–∞–º–∏

### –ü–æ—á–µ–º—É tar+scp –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- ‚ùå –°–æ–∑–¥–∞–Ω–∏–µ 3.2GB –∞—Ä—Ö–∏–≤–∞ –∑–∞–Ω–∏–º–∞–µ—Ç –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- ‚ùå –ü–µ—Ä–µ–¥–∞—á–∞ –±–æ–ª—å—à–æ–≥–æ –∞—Ä—Ö–∏–≤–∞ —á–∞—Å—Ç–æ –æ–±—Ä—ã–≤–∞–µ—Ç—Å—è
- ‚ùå –ü—Ä–∏ –æ–±—Ä—ã–≤–µ –Ω—É–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å –∑–∞–Ω–æ–≤–æ
- ‚ùå –†–∞—Å–ø–∞–∫–æ–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Ç–æ–∂–µ –º–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å
- ‚ùå –°–ª–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å

## –†–µ—à–µ–Ω–∏–µ: `sync-uploads.sh`

–ù–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **rsync** –≤–º–µ—Å—Ç–æ tar+scp:

### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ rsync:

1. **–ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** - –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ/–∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
2. **Resume –ø—Ä–∏ –æ–±—Ä—ã–≤–µ** - –º–æ–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å –º–µ—Å—Ç–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
3. **–ü—Ä–æ–≥—Ä–µ—Å—Å –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** - –≤–∏–¥–Ω–æ —Å–∫–æ–ª—å–∫–æ –æ—Å—Ç–∞–ª–æ—Å—å
4. **–°–∂–∞—Ç–∏–µ –Ω–∞ –ª–µ—Ç—É** - —ç–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞
5. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º—É—Å–æ—Ä–∞** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–∫–ª—é—á–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã
6. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏** - –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Å—É–º–º—ã
7. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ —É–¥–∞–ª—è–µ—Ç —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –ü–µ—Ä–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (dry-run –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏)

```bash
cd /Users/adoknov/work/maslovka/www/deployment-scripts

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –±—É–¥–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ (–±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–¥–∞—á–∏)
./sync-uploads.sh dev --dry-run
```

–≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç:
- –ö–∞–∫–∏–µ —Ñ–∞–π–ª—ã –±—É–¥—É—Ç –ø–µ—Ä–µ–¥–∞–Ω—ã
- –†–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –í—Ä–µ–º—è –æ–ø–µ—Ä–∞—Ü–∏–∏

### 2. –†–µ–∞–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –Ω–∞ DEV

```bash
# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ DEV
./sync-uploads.sh dev
```

### 3. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –Ω–∞ PROD

```bash
# –°–Ω–∞—á–∞–ª–∞ dry-run
./sync-uploads.sh prod --dry-run

# –ü–æ—Ç–æ–º —Ä–µ–∞–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
./sync-uploads.sh prod
```

### 4. –ü–æ–≤—Ç–æ—Ä–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (—Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ/–∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ)

```bash
# –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ –ø–µ—Ä–µ–¥–∞—Å—Ç —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã
./sync-uploads.sh dev
```

–≠—Ç–æ –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ, —Ç.–∫. rsync —É–º–Ω—ã–π –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è!

### 5. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —É–¥–∞–ª–µ–Ω–∏–µ–º

**‚ö†Ô∏è –û–°–¢–û–†–û–ñ–ù–û! –£–¥–∞–ª–∏—Ç —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ!**

```bash
# –°–Ω–∞—á–∞–ª–∞ dry-run —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —á—Ç–æ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ
./sync-uploads.sh dev --dry-run --delete

# –ï—Å–ª–∏ —É–≤–µ—Ä–µ–Ω—ã, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Ä–µ–∞–ª—å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
./sync-uploads.sh dev --delete
```

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–∫—Ä–∏–ø—Ç–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è:
- `.DS_Store`, `._*`, `__MACOSX` (macOS –º—É—Å–æ—Ä)
- `Thumbs.db`, `desktop.ini` (Windows –º—É—Å–æ—Ä)
- `*.swp`, `*.swo`, `*~` (–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–≤)
- `.git/`, `.cache/`, `.temp/`

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∞–≤:
- –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏: `755` (rwxr-xr-x)
- –§–∞–π–ª—ã: `644` (rw-r--r--)

### –û—Ç—á—ë—Ç—ã:
- –†–∞–∑–º–µ—Ä –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–∞–ø–∫–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤
- –ë–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã (>50MB)
- –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤
- –†–∞–∑–º–µ—Ä –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–¥–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏)
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥–µ–ø–ª–æ–µ–º

### –û–±–Ω–æ–≤–ª—è–µ–º `initial-deploy.sh`

–°–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è —Ç–µ–ø–µ—Ä—å **–Ω–µ –¥–æ–ª–∂–µ–Ω –ø—ã—Ç–∞—Ç—å—Å—è –∑–∞–≥—Ä—É–∂–∞—Ç—å uploads —á–µ—Ä–µ–∑ tar**.

–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ:
1. `initial-deploy.sh` –¥–µ–ª–∞–µ—Ç –≤—Å—ë –∫—Ä–æ–º–µ uploads
2. –û—Ç–¥–µ–ª—å–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ–º `sync-uploads.sh` –∫–æ–≥–¥–∞ –≥–æ—Ç–æ–≤—ã

–≠—Ç–æ —Ä–∞–∑–¥–µ–ª—è–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:
- ‚úÖ –î–µ–ø–ª–æ–π –Ω–µ –ø–∞–¥–∞–µ—Ç –∏–∑-–∑–∞ –±–æ–ª—å—à–∏—Ö uploads
- ‚úÖ Uploads –º–æ–∂–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
- ‚úÖ –ú–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å —á–∞—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è uploads

## –ü—Ä–∏–º–µ—Ä workflow

### –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π –¥–µ–ø–ª–æ–π:

```bash
# 1. –î–µ–ø–ª–æ–π –≤—Å–µ–≥–æ –∫—Ä–æ–º–µ uploads
./initial-deploy.sh dev

# 2. –û—Ç–¥–µ–ª—å–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º uploads
./sync-uploads.sh dev
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ uploads:

```bash
# –ï—Å–ª–∏ –¥–æ–±–∞–≤–∏–ª–∏—Å—å –Ω–æ–≤—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
./sync-uploads.sh dev

# –¢–æ–ª—å–∫–æ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –±—É–¥—É—Ç –ø–µ—Ä–µ–¥–∞–Ω—ã (–±—ã—Å—Ç—Ä–æ!)
```

### –ú–∏–≥—Ä–∞—Ü–∏—è prod ‚Üí dev:

```bash
# –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å uploads —Å prod –Ω–∞ dev
# (—Ç—Ä–µ–±—É–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ prod —Å–µ—Ä–≤–µ—Ä—É)

# 1. –°–∫–∞—á–∞—Ç—å —Å prod
rsync -avz --progress user@prod-server:/path/to/uploads/ ./wordpress/wp-content/uploads/

# 2. –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞ dev
./sync-uploads.sh dev
```

## –†–µ—à–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º

### –ë–æ–ª—å—à–∏–µ PNG —Ñ–∞–π–ª—ã (80-97MB)

**–ü—Ä–æ–±–ª–µ–º–∞**: –¢–∞–∫–∏–µ —Ä–∞–∑–º–µ—Ä—ã –Ω–µ–Ω–æ—Ä–º–∞–ª—å–Ω—ã –¥–ª—è –≤–µ–±–∞

**–†–µ—à–µ–Ω–∏–µ**:
1. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π:
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å ImageMagick
brew install imagemagick

# –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –±–æ–ª–µ–µ —Ä–∞–∑—É–º–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
cd /Users/adoknov/work/maslovka/www/wordpress/wp-content/uploads/2025/08
for file in –º–µ—Ä—á*.png; do
    convert "$file" -quality 85 -resize '2000x2000>' "${file%.png}.jpg"
done
```

2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–ª–∞–≥–∏–Ω –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –Ω–∞ WordPress (–ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏)

### –†—É—Å—Å–∫–∏–µ –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞**: –ú–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π –Ω–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö

**rsync —Ä–µ—à–∞–µ—Ç —ç—Ç–æ**:
- –ü–µ—Ä–µ–¥–∞—ë—Ç –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —á–µ—Ä–µ–∑ SSH
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç UTF-8 –∫–æ–¥–∏—Ä–æ–≤–∫—É
- –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–¥—ë–∂–Ω–µ–µ —á–µ–º tar

–ï—Å–ª–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã, –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å:
```bash
# –¢—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è –∏–º—ë–Ω —Ñ–∞–π–ª–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
cd uploads/2025/08
for file in –º–µ—Ä—á*.png; do
    new_name="merch_${file#–º–µ—Ä—á}"
    mv "$file" "$new_name"
done
```

### –û–±—Ä—ã–≤ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

**rsync –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ—à–∞–µ—Ç —ç—Ç–æ**:
- –û–ø—Ü–∏—è `--partial` –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å
- –ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —Å–Ω–æ–≤–∞ - –æ–Ω –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Å –º–µ—Å—Ç–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞

```bash
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ screen/tmux –¥–ª—è –¥–æ–ª–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
screen -S uploads-sync
./sync-uploads.sh prod
# –ù–∞–∂–º–∏—Ç–µ Ctrl+A, –∑–∞—Ç–µ–º D —á—Ç–æ–±—ã –æ—Ç—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è

# –ü–æ–∑–∂–µ –≤–µ—Ä–Ω—É—Ç—å—Å—è:
screen -r uploads-sync
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–í–æ –≤—Ä–µ–º—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ rsync –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
```
sending incremental file list
2025/08/image.jpg
      1,234,567 100%  500.00kB/s    0:00:02 (xfr#1, to-chk=5000/9419)
2025/08/another.png
      5,678,901 100%  450.00kB/s    0:00:12 (xfr#2, to-chk=4999/9419)
```

–ì–¥–µ:
- `100%` - –ø—Ä–æ–≥—Ä–µ—Å—Å —Ñ–∞–π–ª–∞
- `500.00kB/s` - —Å–∫–æ—Ä–æ—Å—Ç—å
- `0:00:02` - –≤—Ä–µ–º—è
- `to-chk=5000/9419` - –æ—Å—Ç–∞–ª–æ—Å—å —Ñ–∞–π–ª–æ–≤

## –û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏

–ü—Ä–∏ —Å–∫–æ—Ä–æ—Å—Ç–∏ ~500 KB/s:
- **3.2 GB** ‚âà **~107 –º–∏–Ω—É—Ç** (~1.8 —á–∞—Å–∞)

–ù–æ rsync —É–º–Ω—ã–π:
- **–ü–µ—Ä–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**: –¥–æ–ª–≥–æ (–≤—Å–µ —Ñ–∞–π–ª—ã)
- **–ü–æ–≤—Ç–æ—Ä–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**: –±—ã—Å—Ç—Ä–æ (—Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è)
- **–ú–æ–∂–Ω–æ –ø—Ä–µ—Ä—ã–≤–∞—Ç—å** –∏ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ü–µ—Ä–≤—ã–π —Ä–∞–∑ –¥–µ–ª–∞–π—Ç–µ –≤ —Å–ø–æ–∫–æ–π–Ω–æ–µ –≤—Ä–µ–º—è** (–Ω–µ –≤ –ø—è—Ç–Ω–∏—Ü—É –≤–µ—á–µ—Ä–æ–º)
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ screen/tmux** –¥–ª—è –¥–æ–ª–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
3. **–°–Ω–∞—á–∞–ª–∞ dev, –ø–æ—Ç–æ–º prod** - —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
4. **–î–µ–ª–∞–π—Ç–µ dry-run** –ø–µ—Ä–µ–¥ –≤–∞–∂–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
5. **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ --delete** –±–µ–∑ –∫—Ä–∞–π–Ω–µ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
6. **–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã** –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π

## –û—Ç–ª–∞–¥–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–π –ª–æ–≥ rsync
./sync-uploads.sh dev 2>&1 | tee sync.log

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
ssh user@server "du -sh /path/to/uploads && find /path/to/uploads -type f | wc -l"

# –°—Ä–∞–≤–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä—ã
du -sh wordpress/wp-content/uploads
ssh user@server "du -sh /path/to/uploads"
```

## –ò—Ç–æ–≥

- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `sync-uploads.sh` –≤–º–µ—Å—Ç–æ tar –≤ –¥–µ–ø–ª–æ–µ
- ‚úÖ –≠—Ç–æ –Ω–∞–¥—ë–∂–Ω–µ–µ, –±—ã—Å—Ç—Ä–µ–µ (–ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–∞—Ö) –∏ —É–º–Ω–µ–µ
- ‚úÖ –ú–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø—Ä–µ—Ä—ã–≤–∞—Ç—å –∏ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º—É—Å–æ—Ä–∞
- ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
